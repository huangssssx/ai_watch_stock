triggered = False
signal = "WAIT"
message = "监控中..."

try:
    if should_sell:
        triggered = True
        signal = "SELL"
        message = "触发卖出：跌破关键均线"
    elif should_buy:
        triggered = True
        signal = "BUY"
        message = "触发买入：放量突破"
    else:
        message = "未触发：继续等待"
except Exception as e:
    triggered = False
    signal = "WAIT"
    message = f"错误：{str(e)}"
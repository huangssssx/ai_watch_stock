我已经完成了“纯 Python 脚本模式”的开发。现在您可以直接在指标配置中编写 Python 脚本来获取和处理数据，而无需配置 Akshare API 接口名。
纯 Python 脚本模式使用规范
当您在创建或编辑指标时，留空 akshare_api（接口名），系统将自动识别为“纯脚本模式”。
1. 脚本环境
脚本运行在 Python 3 环境中，系统预置了以下常用库，您无需 import 即可直接使用：
● ak: akshare 库，用于获取金融数据。
● pd: pandas 库，用于数据处理。
● np: numpy 库，用于数值计算。
● requests: 用于发送 HTTP 请求。
● json: 用于 JSON 处理。
● datetime: 用于日期时间处理。
● time: 用于时间控制。
2. 输入变量
系统会向脚本注入一个 context 字典变量，包含当前上下文信息：
● context['symbol']: 当前股票代码（例如 "600519"）。
● context['name']: 股票名称（如果有）。
● 其他上下文参数。
3. 输出规则 (关键)
脚本执行完毕后，系统会按照以下优先级读取结果，请务必将结果赋值给以下变量之一：
1. df (推荐):
  ○ 如果您获取的是表格数据，请赋值给 df 变量（必须是 pandas.DataFrame 类型）。
  ○ 系统会自动将其转换为 JSON 格式返回。
2. result:
  ○ 如果您获取的是字典或列表数据，请赋值给 result 变量。
  ○ 系统会将其转换为 JSON 字符串返回。
4. 脚本示例
示例 A：使用 Akshare 获取数据并过滤
# 获取个股实时行情
stock_spot = ak.stock_zh_a_spot_em()

# 过滤出当前股票的数据
# 注意：使用 context['symbol'] 获取当前代码
df = stock_spot[stock_spot['代码'] == context['symbol']]
示例 B：构建自定义数据返回
# 自定义逻辑
price = 100.5
volume = 50000

# 赋值给 result
result = [
    {
        "symbol": context['symbol'],
        "custom_price": price,
        "volume": volume,
        "note": "自定义计算结果"
    }
]
示例 C：使用 Requests 请求外部接口
url = f"https://api.example.com/stock/{context['symbol']}"
resp = requests.get(url)
data = resp.json()

# 将结果转为 DataFrame
df = pd.DataFrame([data])